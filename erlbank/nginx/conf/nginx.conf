pid nginx.pid;

events {
    worker_connections  4096;  ## Default: 1024
}
http {
server {
    listen       8080;
    server_name  localhost;

    #charset koi8-r;
    access_log  access.log;
    error_log  error_log  crit;

    location / {
	      ssi on;

        root   ./html;
        index  index.html index.htm;
    }

    location /accounts-ui/ {
        ssi on;
        proxy_set_header Accept-Encoding "";
        proxy_pass http://localhost:8000/;
    }

    location /accounts/ {
        ssi on;
        proxy_set_header Accept-Encoding "";
        proxy_pass http://localhost:8000/accounts/;
    }

    location /transfers-ui/ {
        ssi on;
        proxy_set_header Accept-Encoding "";
        proxy_pass http://localhost:8001/;
    }

    location /transfers/ {
        ssi on;
        proxy_set_header Accept-Encoding "";
        proxy_pass http://localhost:8001/transfers/;
    }

    location /statements-ui/ {
        ssi on;
        proxy_set_header Accept-Encoding "";
        proxy_pass http://localhost:8002/;
    }

    location /statements/ {
        ssi on;
        proxy_set_header Accept-Encoding "";
        proxy_pass http://localhost:8002/statements/;
    }
}
}
